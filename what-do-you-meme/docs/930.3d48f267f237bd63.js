"use strict";(self.webpackChunkwhat_do_you_meme=self.webpackChunkwhat_do_you_meme||[]).push([[930],{3930:(v,c,a)=>{a.r(c),a.d(c,{GlobalChatModule:()=>u});var m=a(793),g=a(6259),l=a(6895),t=a(4650),s=a(433),p=a(727),d=a(1067),h=a(4144),f=a(9549),C=a(5174);function _(o,e){if(1&o&&(t.TgZ(0,"div",12),t._UZ(1,"div",13),t.TgZ(2,"div",14)(3,"span",15),t._uU(4),t.qZA(),t.TgZ(5,"span",16),t._uU(6),t.qZA(),t.TgZ(7,"time",15),t._uU(8),t.ALo(9,"date"),t.qZA()()()),2&o){const n=e.$implicit;t.xp6(1),t.s9C("appImage",n.image),t.xp6(3),t.Oqu(n.username),t.xp6(2),t.Oqu(n.message),t.xp6(2),t.Oqu(t.xi3(9,4,n.timestamp,"HH:mm:ss"))}}function x(o,e){1&o&&(t.TgZ(0,"span",17),t._uU(1,"\u041c\u0430\u043a\u0438\u0441\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 308 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),t.qZA())}class i{constructor(e){this.chatService=e,this.subs=new p.w0,this.messageList$=this.chatService.messageList$}get messageControlValue(){return this.sendMessageForm.get("messageControl")?.value}get messageControl(){return this.sendMessageForm.get("messageControl")}ngOnInit(){this.sendMessageForm=new s.cw({messageControl:new s.NI("",[s.kI.required,s.kI.maxLength(308)])}),this.subs.add(this.chatService.getMessage().subscribe(e=>{this.chatService.updateMessagesList(e)}))}onSubmit(){this.chatService.sendMessage({message:this.messageControlValue}),this.messageControl?.setValue("")}ngOnDestroy(){this.subs.unsubscribe(),this.chatService.clearMessageList()}}i.\u0275fac=function(e){return new(e||i)(t.Y36(d.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-global-chat"]],decls:18,vars:6,consts:[[1,"chat"],[1,"chat__window"],["class","chat__field",4,"ngFor","ngForOf"],[1,"chat__controls"],[1,"chat__form",3,"formGroup","ngSubmit"],[1,"chat__control"],[1,"chat__textarea_mat"],["matInput","","name","text","placeholder","\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","formControlName","messageControl",1,"chat__textarea"],["class","form__error",4,"ngIf"],["type","submit",1,"btn","chat__btn",3,"disabled"],[1,"rules"],[1,"rules__item"],[1,"chat__field"],[1,"user__avatar",3,"appImage"],[1,"chat__message"],[1,"span"],[1,"span","chat__text"],[1,"form__error"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,_,10,7,"div",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"div",3)(5,"form",4),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(6,"div",5)(7,"mat-form-field",6),t._UZ(8,"textarea",7),t.qZA(),t.YNc(9,x,2,0,"span",8),t.qZA(),t.TgZ(10,"button",9),t._uU(11,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),t.qZA()(),t.TgZ(12,"ul",10),t._uU(13," \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0447\u0430\u0442\u0430: "),t.TgZ(14,"li",11),t._uU(15,"\u0411\u0443\u0434\u044c \u0432\u0435\u0436\u043b\u0438\u0432!"),t.qZA(),t.TgZ(16,"li",11),t._uU(17,"\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0447\u0438\u0441\u043b\u0430!"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,4,n.messageList$)),t.xp6(3),t.Q6J("formGroup",n.sendMessageForm),t.xp6(4),t.Q6J("ngIf",null==n.messageControl||null==n.messageControl.errors?null:n.messageControl.errors.maxLength),t.xp6(1),t.Q6J("disabled",n.sendMessageForm.invalid))},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.Nt,f.KE,C.t,l.Ov,l.uU],styles:[".chat[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:20px;border-radius:13px;min-width:700px;min-height:700px;width:100%;height:100%;background-color:#1b1a20}.chat__controls[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:space-between;padding-top:20px;border-top:1px solid #fff}.chat__window[_ngcontent-%COMP%]{max-height:500px;overflow:auto}.chat__field[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;padding-bottom:20px}.chat__form[_ngcontent-%COMP%]{display:flex;align-items:center}.chat__textarea_mat[_ngcontent-%COMP%]{width:500px}.chat__textarea[_ngcontent-%COMP%]{resize:none}.chat__btn[_ngcontent-%COMP%]{display:initial;margin:0 0 0 20px}.chat__message[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;font-size:20px;color:#fff}.chat__content[_ngcontent-%COMP%]{position:relative;padding:10px;border-radius:5px;background-color:#382756}.chat__time[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px}.chat__text[_ngcontent-%COMP%]{padding:5px;border-radius:5px;background-color:#382756}.rules[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#fff}"]});class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-global-chat-page"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-global-chat"),t.qZA())},dependencies:[i]});var b=a(4466);class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[l.ez,s.UX,m.q,g.Bz.forChild([{path:"",pathMatch:"full",component:r}]),b.m]})}}]);